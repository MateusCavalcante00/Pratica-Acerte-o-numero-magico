<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="estilo.css">
    <title>Acerte o numero mágico</title>
</head>

<body>
    <div class="inputsEcabeçalho">
        <header><strong>Acerte o numero mágico!</strong></header>
        <p>
            <input type="number" name="numero" id="numero" placeholder="Numero entre 1 e 500!">
            <input type="button" value="Jogar" onclick="jogada()">
            <input type="button" value="Reiniciar" onclick="reiniciar()">
        </p>
    </div>
    <div id="feedback">
        <strong>Boa sorte!</strong>
    </div>
    <script>
        let min = 1;
        let max = 500;
        let numeroSorteado = Math.round(Math.random() * (max - min)) + min;
        let divResult = document.getElementById('feedback');
        let numTentativas = 0;

        function jogada() {

            let numeroTentado = document.getElementById('numero').value;

            if (numeroTentado === "" || Number(numeroTentado) > 500) {
                alert(`Voçê precisa inserir um numero valido para a jogada!`);
                return;
            }

            numeroTentado = Number(numeroTentado);

            let quase = Math.abs(numeroSorteado - numeroTentado);
            if (quase < 10) {

                numTentativas++;

                divResult.innerHTML = "Uuuuuh, essa foi quase!"
            }

            if (numeroTentado === numeroSorteado) {

                divResult.innerHTML = "Parabens, voçê acertou!";

            } else if (numeroTentado > numeroSorteado) {

                numTentativas++;

                divResult.innerHTML = `<strong>Tente um numero menor!</strong>
                                       <br>Tentativas: <strong>${numTentativas}</strong></br>`;

            } else if (numeroTentado < numeroSorteado) {

                numTentativas++;

                divResult.innerHTML = `<strong>Tente um numero maior!</strong>
                                       <br>Tentativas: <strong>${numTentativas}</strong></br>`;
            }

            numeroTentado = "";
        }

        function reiniciar() {
            let min = 1;
            let max = 500;
            let numeroSorteado = Math.round(Math.random() * (max - min)) + min;
            alert(`Jogo reiniciado! Novo numero sorteado, boa sorte!`);
            divResult.innerHTML = `<strong>Boa sorte!</strong>`
            numeroTentado = "";
        }
    </script>
</body>

</html>